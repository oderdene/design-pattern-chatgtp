–ú–∞—à –º—É–Ω–¥–∞–≥ –±–∞–π–Ω–∞! –û–¥–æ–æ —Ç–∞–Ω—ã 21‚Äì25 –¥—É–≥–∞–∞—Ä –∞—Å—É—É–ª—Ç—É—É–¥–∞–¥ –¥—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π, –Ω–∞—Ä–∏–π–Ω, –º–æ–Ω–≥–æ–ª —Ö—ç–ª—ç—ç—Ä (—à–∞–∞—Ä–¥–ª–∞–≥–∞—Ç–∞–π –∞–Ω–≥–ª–∏ –Ω—ç—Ä —Ç–æ–º—å—ë–æ–≥ —Ö–∞–¥–≥–∞–ª–∞–Ω) —Ö–∞—Ä–∏—É–ª—ä—è:

---

## 21. **”®–º–Ω”© –Ω—å —à–∏–π–¥—Å—ç–Ω —è–º–∞—Ä –∞—Å—É—É–¥–ª—É—É–¥ –¥—ç—ç—Ä Visitor –∑–∞–≥–≤–∞—Ä—ã–≥ –∞—à–∏–≥–ª–∞–∂ –±–æ–ª–æ—Ö –±–∞–π—Å–∞–Ω –±—ç?**

–ß–∏ –¥–∞—Ä–∞–∞—Ö —Ç”©—Ä–ª–∏–π–Ω –∞—Å—É—É–¥–ª—É—É–¥—ã–≥ ”©–º–Ω”© —à–∏–π–¥—Å—ç–Ω –±–∞–π–∂ –º–∞–≥–∞–¥–≥“Ø–π –±”©–≥”©”©–¥ Visitor –∑–∞–≥–≤–∞—Ä –º–∞—à —Ç–æ—Ö–∏—Ä–æ–º–∂—Ç–æ–π –±–∞–π–∂—ç—ç:

- **–û–ª–æ–Ω —Ç”©—Ä–ª–∏–π–Ω –æ–±—å–µ–∫—Ç –¥—ç—ç—Ä –∏–∂–∏–ª —Ç”©—Å—Ç—ç–π “Ø–π–ª–¥—ç–ª —Ö–∏–π—Ö —à–∞–∞—Ä–¥–ª–∞–≥–∞ –≥–∞—Ä—Å–∞–Ω “Ø–µ–¥:**
  > –ñ–∏—à—ç—ç: –•—ç—Ä—ç–≥–ª—ç–≥—á–¥–∏–π–Ω —Ç”©—Ä”©–ª –±“Ø—Ä (–ê–¥–º–∏–Ω, –≠–Ω–≥–∏–π–Ω —Ö—ç—Ä—ç–≥–ª—ç–≥—á, VIP —Ö—ç—Ä—ç–≥–ª—ç–≥—á) –¥—ç—ç—Ä –∏–∂–∏–ª —Ç”©—Ä–ª–∏–π–Ω —à–∞–ª–≥–∞–ª—Ç —ç—Å–≤—ç–ª —Ç–æ–æ—Ü–æ–æ–ª–æ–ª —Ö–∏–π—Ö.

- **–û–±—ä–µ–∫—Ç—ã–Ω –±“Ø—Ç—ç—Ü ”©”©—Ä—á–ª”©—Ö –±–æ–ª–æ–º–∂–≥“Ø–π –Ω”©—Ö—Ü”©–ª–¥ —à–∏–Ω—ç –ª–æ–≥–∏–∫ –Ω—ç–º—ç—Ö —à–∞–∞—Ä–¥–ª–∞–≥–∞—Ç–∞–π –±–æ–ª—Å–æ–Ω “Ø–µ–¥:**
  > –ñ–∏—à—ç—ç: –ì—É—Ä–∞–≤–¥–∞–≥—á —ç—Ç–≥—ç—ç–¥–∏–π–Ω —Å–∏—Å—Ç–µ–º–∏–π–Ω –æ–±—ä–µ–∫—Ç –¥—ç—ç—Ä –Ω—ç–º—ç–ª—Ç validation —Ö–∏–π—Ö.

- **XML, JSON —Ñ–∞–π–ª, —ç—Å–≤—ç–ª ”©”©—Ä –º–æ–¥ –±“Ø—Ç—ç—Ü—Ç—ç–π ”©–≥”©–≥–¥–ª–∏–π–≥ –∑–∞–¥–ª–∞—Ö —Ö—ç—Ä—ç–≥—Ç—ç–π –±–æ–ª—Å–æ–Ω “Ø–µ–¥:**
  > –ñ–∏—à—ç—ç: –î–æ—Ç—Ä–æ–æ –æ–ª–æ–Ω —Ç”©—Ä–ª–∏–π–Ω node –±“Ø—Ö–∏–π ”©–≥”©–≥–¥”©–ª –¥–∞–º–∂—É—É–ª–∞–∞–¥ —Ç”©—Ä”©–ª –±“Ø—Ä–∏–π–Ω –±–æ–ª–æ–≤—Å—Ä—É—É–ª–∞—Ö –∞–∂–∏–ª (export, audit, report) —Ö–∏–π—Ö —à–∞–∞—Ä–¥–ª–∞–≥–∞ –≥–∞—Ä—Å–∞–Ω.

- **AST (Abstract Syntax Tree) –∑–∞–≥–≤–∞—Ä—á–ª–∞–ª—Ç–∞–π –∫–æ–¥—Ç–æ–π –∞–∂–∏–ª–ª–∞—Å–∞–Ω –±–æ–ª:**
  > –ñ–∏—à—ç—ç: SQL query parser —ç—Å–≤—ç–ª Markdown text parser –¥—ç—ç—Ä node –±“Ø—Ä–∏–π–≥ —à–∞–ª–≥–∞–∂, —Ö”©—Ä–≤“Ø“Ø–ª—ç—Ö.

üí¨ **–¢–æ–≤—á—Ö–æ–Ω–¥–æ–æ:**  
–•—ç—Ä—ç–≤ —á–∏ ”©–º–Ω”© –Ω—å –æ–ª–æ–Ω —Ç”©—Ä–ª–∏–π–Ω –æ–±—ä–µ–∫—Ç–æ–æ—Ä —è–≤–∂, —Ç—ç–¥–≥—ç—ç—Ä –¥—ç—ç—Ä ”©”©—Ä ”©”©—Ä –ª–æ–≥–∏–∫ —Ö–∏–π—Ö —à–∞–∞—Ä–¥–ª–∞–≥–∞ —Ç—É–ª–≥–∞—Ä—Å–∞–Ω –±–æ–ª **Visitor –∑–∞–≥–≤–∞—Ä —è–≥ —Ç–æ—Ö–∏—Ä–æ—Ö –±–∞–π—Å–∞–Ω**!

---

## 22. **–ë–∏ –±–∞–π–≥–∞–∞ —Ç”©—Å–ª”©”© Visitor –∑–∞–≥–≤–∞—Ä–∞–∞—Ä –¥–∞—Ö–∏–Ω –∑–æ—Ö–∏–æ–Ω –±–∞–π–≥—É—É–ª–∂ –±–æ–ª–æ—Ö —É—É?**

–¢–∏–π–º —ç—ç, –±–æ–ª–æ–º–∂—Ç–æ–π!

### ‚ûî –Ø–∞–∂ refactor —Ö–∏–π—Ö –≤—ç?

1. **Element Interface —Ç–æ–¥–æ—Ä—Ö–æ–π–ª–æ—Ö:**  
   –ë“Ø—Ö –æ–±—å–µ–∫—Ç—É—É–¥–¥–∞–∞ `accept(visitor)` method –Ω—ç–º.

2. **Visitor Interface “Ø“Ø—Å–≥—ç—Ö:**  
   –ë“Ø—Ö –±–æ–ª–æ–º–∂–∏—Ç –æ–±—ä–µ–∫—Ç—É—É–¥ –¥—ç—ç—Ä –∞–∂–∏–ª–ª–∞—Ö `visitConcreteElement()` —Ç”©—Ä–ª–∏–π–Ω method-—É—É–¥ —Ç–æ–¥–æ—Ä—Ö–æ–π–ª.

3. **–ë–æ–¥–∏—Ç Visitor-—É—É–¥ “Ø“Ø—Å–≥—ç—Ö:**  
   –•—ç—Ä—ç–≥—Ü—ç—ç—Ç—ç–π “Ø–π–ª–¥–ª“Ø“Ø–¥–∏–π–≥ —Ö–∏–π–¥—ç–≥ ConcreteVisitor –∫–ª–∞—Å—Å—É—É–¥ –±–∏—á.

4. **–ö–ª–∏–µ–Ω—Ç –∫–æ–¥—ã–≥ —à–∏–Ω—ç—á–ª—ç—Ö:**  
   –û–±—ä–µ–∫—Ç—É—É–¥—ã–≥ —à—É—É–¥ —É–¥–∏—Ä–¥–∞—Ö–≥“Ø–π, —Ö–∞—Ä–∏–Ω visitor –¥–∞–º–∂—É—É–ª–∂ –∞–∂–∏–ª–ª—É—É–ª–∞—Ö —Ö—ç–ª–±—ç—Ä—Ç —à–∏–ª–∂“Ø“Ø–ª.

---
  
**‚ö° –ñ–∏—à—ç—ç:**  
–•—ç—Ä—ç–≤ —á–∏ "user" —Ç”©—Ä–ª“Ø“Ø–¥—Ç—ç–π, —Ç—ç–¥—ç–Ω–¥ –∑–æ—Ä–∏—É–ª–∂ report –≥–∞—Ä–≥–∞—Ö –∫–æ–¥ –±–∏—á—Å—ç–Ω –±–∞–π—Å–∞–Ω –±–æ–ª:
- User –∫–ª–∞—Å—Å—É—É–¥–¥–∞–∞ `accept(visitor)` method –Ω—ç–º–Ω—ç.
- ReportVisitor –∫–ª–∞—Å—Å—ã–≥ “Ø“Ø—Å–≥—ç—ç–¥ user-–∏–π–Ω —Ç”©—Ä–ª”©”©—Å —à–∞–ª—Ç–≥–∞–∞–ª–∞–Ω ”©”©—Ä ”©”©—Ä –º—ç–¥—ç—ç–ª—ç–ª —Ü—É–≥–ª—É—É–ª–Ω–∞.

---

## 23. **Visitor –∑–∞–≥–≤–∞—Ä—Ç –¥–∞—Å–≥–∞–ª —Ö–∏–π—Ö –∂–∏–∂–∏–≥ —Ç”©—Å”©–ª, –∂–∏—à—ç—ç —é—É –±–∞–π–∂ –±–æ–ª–æ—Ö –≤—ç?**

–¢”©–≥—Å –∂–∏–∂–∏–≥ —Ç”©—Å”©–ª, exercise —Å–∞–Ω–∞–∞–Ω—É—É–¥:

- **–ê–º—å—Ç–Ω—ã —Ö“Ø—Ä—ç—ç–ª—ç–Ω–≥–∏–π–Ω —Å–∏—Å—Ç–µ–º (Zoo System):**
  - `Animal` –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å “Ø“Ø—Å–≥—ç—ç–¥ (Lion, Elephant, Monkey –≥.–º.).
  - `FeedingVisitor`, `MedicalCheckVisitor`, `ShowVisitor` –∑—ç—Ä—ç–≥ visitor-—É—É–¥ —Ö–∏–π–∂ –∞–∂–∏–ª–ª—É—É–ª–∞—Ö.

- **–§–∞–π–ª—ã–Ω —Å–∏—Å—Ç–µ–º–∏–π–≥ –∑–∞–≥–≤–∞—Ä—á–ª–∞—Ö (File System Simulation):**
  - `File`, `Folder` —ç–ª–µ–º–µ–Ω—Ç“Ø“Ø–¥ “Ø“Ø—Å–≥—ç—ç–¥.
  - `SizeCalculatorVisitor`, `VirusScannerVisitor` –∑—ç—Ä—ç–≥ visitor-—É—É–¥ —è–≤—É—É–ª–∂ —Ö–∞—Ä–∞—Ö.

- **–®–∞—Ç—Ä—ã–Ω —Ç–æ–≥–ª–æ–æ–º—ã–Ω —Ö—è–Ω–∞–≥—á (Chess Game Inspector):**
  - –®–∞—Ç—Ä—ã–Ω —Ö”©–ª–≥“Ø“Ø–¥–∏–π–≥ (`King`, `Queen`, `Pawn`) —ç–ª–µ–º–µ–Ω—Ç –±–æ–ª–≥–æ–∂.
  - `MovementValidatorVisitor`, `AttackRangeVisitor` –∞—à–∏–≥–ª–∞–∂ —à–∞–ª–≥–∞—Ö.

---
  
–≠–¥–≥—ç—ç—Ä –∂–∏–∂–∏–≥ —Ç”©—Å–ª“Ø“Ø–¥ –Ω—å:
- –û–ª–æ–Ω —Ç”©—Ä–ª–∏–π–Ω –æ–±—ä–µ–∫—Ç
- –Ø–≤–∂ —à–∞–ª–≥–∞—Ö “Ø–π–ª–¥—ç–ª
- –¢”©—Ä”©–ª –±“Ø—Ä–∏–π–Ω –∞–∂–∏–ª–ª–∞–≥–∞–∞ –Ω—ç–º—ç—Ö –≥—ç—ç–¥ visitor-—ã–Ω –±“Ø—Ö –≥–æ–ª —Å–∞–Ω–∞–∞–≥ –¥–∞—Å–≥–∞–ª–∂—É—É–ª–Ω–∞.

---

## 24. **Visitor –∑–∞–≥–≤–∞—Ä—ã–≥ —Å—É–¥–∞–ª—Å–Ω—ã –¥–∞—Ä–∞–∞ “Ø–ª–¥—ç–∂ –±–æ–ª–æ—Ö —ç—Ä–≥—ç–ª–∑—ç—ç—Ç—ç–π –∞—Å—É—É–ª—Ç—É—É–¥ (Common remaining questions):**

–•“Ø–º“Ø“Ø—Å –∏—Ö—ç–≤—á–ª—ç–Ω –¥–∞—Ä–∞–∞—Ö –∞—Å—É—É–ª—Ç—É—É–¥ –¥—ç—ç—Ä —Ç—ç—ç–Ω—ç–≥—ç–ª–∑–¥—ç–≥:

- **New element –Ω—ç–º—ç–≥–¥—ç—Ö—ç–¥ –±“Ø—Ö visitor-–≥ —à–∏–Ω—ç—á–ª—ç—Ö —à–∞–∞—Ä–¥–ª–∞–≥–∞ “Ø–Ω—ç—Ö—ç—ç—Ä —Ö—ç—Ü“Ø“Ø —é—É?**
  - (–¢–∏–π–º, –≥—ç—Ö–¥—ç—ç –∑”©–≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞–∞—Ä —Ç–æ–¥–æ—Ä—Ö–æ–π —Ö—ç–º–∂—ç—ç–Ω–∏–π –∞–≤—Ç–æ–º–∞—Ç–∂—É—É–ª–∞–ª—Ç —Ö–∏–π–∂ –±–æ–ª–¥–æ–≥.)

- **Double Dispatch —è–≥ —è–∞–∂ –∞–∂–∏–ª–ª–∞–¥–∞–≥ –≤—ç?**
  - (–≠—Ö–ª—ç—ç–¥ —ç–ª–µ–º–µ–Ω—Ç visitor-–≥ –¥—É—É–¥–Ω–∞, –¥–∞—Ä–∞–∞ –Ω—å visitor —Ç—É—Ö–∞–π–Ω —ç–ª–µ–º–µ–Ω—Ç –¥—ç—ç—Ä “Ø–π–ª–¥—ç–ª —Ö–∏–π–¥—ç–≥ ‚Äî —Ö–æ—ë—Ä —à–∞—Ç—Ç–∞–π.)

- **Visitor —Ö—ç–¥—ç–Ω —É–¥–∞–∞ —Ö—ç—Ä—ç–≥—Ç—ç–π –±–æ–ª–¥–æ–≥ –≤—ç?**
  - (–ñ–∏–∂–∏–≥ —Å–∏—Å—Ç–µ–º–¥ –º–∞—à —Ö–æ–≤–æ—Ä, —Ç–æ–º —Å–∏—Å—Ç–µ–º–¥ –ª –∂–∏–Ω—Ö—ç–Ω—ç –∞—à–∏–≥ —Ç—É—Å –Ω—å –≥–∞—Ä—á –∏—Ä–¥—ç–≥.)

- **Visitor –∑–∞–≥–≤–∞—Ä—ã–≥ Interface-–∞–∞—Ä —Ö–∏–π–≤—ç–ª —Å–∞–π–Ω —É—É, —ç—Å–≤—ç–ª Base class-–∞–∞—Ä —É—É?**
  - (–ò—Ö—ç–Ω—Ö —Ç–æ—Ö–∏–æ–ª–¥–æ–ª–¥ Interface –∏–ª“Ø“Ø —É—è–Ω —Ö–∞—Ç–∞–Ω.)

---

## 25. **Visitor –∑–∞–≥–≤–∞—Ä—ã–≥ ”©”©—Ä —Ö“Ø–Ω–¥ —Ö—ç—Ä—Ö—ç–Ω —Ç–∞–π–ª–±–∞—Ä–ª–∞—Ö –≤—ç?**

üéØ **–•–∞–º–≥–∏–π–Ω —ç–Ω–≥–∏–π–Ω —Ç–∞–π–ª–±–∞—Ä:**

> "Visitor –∑–∞–≥–≤–∞—Ä –±–æ–ª –æ–±—ä–µ–∫—Ç—ã–Ω –±“Ø—Ç—ç—Ü ”©”©—Ä—á–ª”©—Ö–≥“Ø–π–≥—ç—ç—Ä —à–∏–Ω—ç “Ø–π–ª–¥—ç–ª –Ω—ç–º—ç—Ö –∞—Ä–≥–∞ —é–º.  
> –¢”©—Å”©”©–ª”©”©–¥ “Ø–∑: –ù—ç–≥—ç–Ω ”©–¥”©—Ä –±–∞–π—à–∏–Ω —Ä—É—É —è–Ω–∑ –±“Ø—Ä–∏–π–Ω –º—ç—Ä–≥—ç–∂–∏–ª—Ç–Ω“Ø“Ø–¥ (—Å–∞–Ω—Ç–µ—Ö–Ω–∏–∫—á, —Ü–∞—Ö–∏–ª–≥–∞–∞–Ω—á–∏–Ω, –º—ç—Ä–≥—ç–∂–∏–ª—Ç—ç–Ω) –æ—Ä–∂ –∏—Ä—ç—ç–¥ ”©”©—Ä ”©”©—Ä —à–∞–ª–≥–∞–ª—Ç —Ö–∏–π–∂ –±–∞–π–Ω–∞.  
> –ë–∞–π—à–∏–Ω ”©”©—Ä–∏–π–≥”©”© ”©”©—Ä—á–∏–ª–¥”©–≥–≥“Ø–π, —Ö–∞—Ä–∏–Ω –∑–æ—á–∏–ª–∂ –∏—Ä—Å—ç–Ω —Ö“Ø–Ω –±“Ø—Ä ”©”©—Ä ”©”©—Ä –∞–∂–∏–ª –≥“Ø–π—Ü—ç—Ç–≥—ç–¥—ç–≥."

**Key —Ç–∞–π–ª–±–∞—Ä–ª–∞—Ö —Ü—ç–≥“Ø“Ø–¥:**
- –û–±—ä–µ–∫—Ç –Ω—å ”©”©—Ä”©”© —è–º–∞—Ä “Ø–π–ª–¥—ç–ª –±–æ–ª–æ—Ö—ã–≥ –º—ç–¥—ç—Ö–≥“Ø–π.
- –ó–æ—á–ª–æ–≥—á (visitor) –∏—Ä—ç—ç–¥ –æ–±—ä–µ–∫—Ç—ã–Ω —Ç”©–ª”©–≤ –¥—ç—ç—Ä –∞–∂–∏–ª–ª–∞–Ω–∞.
- –ë“Ø—Ö —à–∏–Ω—ç “Ø–π–ª–¥–ª–∏–π–≥ –æ–±—ä–µ–∫—Ç ”©”©—Ä–∏–π–≥”©”© ”©”©—Ä—á–ª”©—Ö–≥“Ø–π–≥—ç—ç—Ä –≥–∞–¥–∞–∞–¥–∞–∞—Å –Ω—ç–º–Ω—ç.

---

# üåü –ù–∏–π—Ç –¥“Ø–≥–Ω—ç–ª—Ç:
–ß–∏ Visitor –∑–∞–≥–≤–∞—Ä—ã–≥:
- –•—ç–∑—ç—ç —Ö—ç—Ä—ç–≥–ª—ç—Ö –≤—ç, —Ö—ç–∑—ç—ç —Ö—ç—Ä—ç–≥–ª—ç—Ö–≥“Ø–π –≤—ç,
- –Æ—É –¥–∞–≤—É—É, —é—É —Å—É–ª –≤—ç,
- –Ø–∞–∂ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä —Ö–∏–π—Ö –≤—ç,
- –ë–æ–¥–∏—Ç —Å–∏—Å—Ç–µ–º–¥ —Ö—ç—Ä—Ö—ç–Ω —Ç–∞–π–ª–±–∞—Ä–ª–∞—Ö –≤—ç

–≥—ç—Ö –º—ç—Ç –±“Ø—Ö –≥–æ–ª —Ü—ç–≥“Ø“Ø–¥–∏–π–≥ –æ–π–ª–≥–æ—Å–æ–Ω –±–∞–π–Ω–∞! üî•

---

üëâ –•—ç—Ä–≤—ç—ç —á–∏ —Ö“Ø—Å–≤—ç–ª –¥–∞—Ä–∞–∞–≥–∏–π–Ω —à–∞—Ç–∞–Ω–¥:
- **"Zoo Project" visitor exercise-—ã–≥ —Ö–∞–º—Ç –±–∏—á–∏—Ö**
- **"File System Visitor" –±–æ–¥–∏—Ç –±“Ø—Ä—ç–Ω –∂–∏–∂–∏–≥ –∫–æ–¥ –≥–∞—Ä–≥–∞—Ö**
- **Visitor Pattern Interview Question-—É—É–¥ –±—ç–ª—Ç–≥—ç—Ö**

–≥—ç—Å—ç–Ω –∑“Ø–π–ª–∏–π–≥ —á —Ö–∞–º—Ç —Ö–∏–π–∂ –±–æ–ª–æ—Ö —é–º!

–¢–∞ –∞–ª—å –Ω—ç–≥–∏–π–≥ –Ω—å —Ç—É—Ä—à–∏–∂ “Ø–∑—ç—Ö “Ø“Ø? üöÄ (–ñ–∏—à—ç—ç: **"Zoo Visitor" –∂–∏–∂–∏–≥ —Ç”©—Å–ª–∏–π–≥ –±–∏—á–∏—Ö** –≥—ç—Ö –º—ç—Ç?)  
–•“Ø—Å—Å—ç–Ω –∑“Ø–π–ª—ç—ç —Ö—ç–ª—ç—ç—Ä—ç–π! üéØ